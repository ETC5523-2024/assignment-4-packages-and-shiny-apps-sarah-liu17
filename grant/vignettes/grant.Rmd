---
title: "grant package usage"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{grant}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, message = FALSE, warning = FALSE}
library(grant)
library(ggplot2)
library(dplyr)
```

# Introduction
Welcome to the grant package, a tool designed to help users explore and analyze grant opportunities in the United States of America with an interactive Shiny app. This vignette will walk you through the key functionalities of the package, including how to install the package, launch the Shiny app, and use the different features for exploring the dataset of grant opportunities.

Installation
To install the grant package, you can use the remotes package to install it directly from GitHub.

```{r,eval = FALSE, echo=TRUE}
# Install the remotes package if you haven't already
install.packages("remotes")
```

```{r, eval = FALSE, echo=TRUE}
# Install the grant package from GitHub
remotes::install_github("ETC5523-2024/assignment-4-packages-and-shiny-apps-sarah-liu17", subdir = "grant")
```


Once installed, you can load the package as follows:

Launching the Shiny App:
```{r}
library(grant)
```

The Shiny app is the main feature of this package. It allows you to filter, analyze, and visualize grant opportunities interactively. To launch the app, simply run the following function:



This will open the Shiny dashboard in your web browser, where you can start exploring the dataset of grant opportunities.
```{r, eval=FALSE, echo=TRUE}
run_grant_app()
```

# The Grant Opportunities Dataset
The datasets used in this package contains detailed information about grant opportunities, and is downloaded from the [TidyTuesday packgae](https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-10-03/readme.md), including category, award ceilings and floors, and application deadlines. The dataset is cleaned and stored within the package, and no additional data loading is required.

# Explore the dataset
 
Run the below summarise function to explore the number the number of grant opportunities and total funding by category.
```{r}
summarize_grants_by_category(grant_opp)
```


# Shiny App Features
1. Filter Grants
The "Filter Grants" tab allows you to filter grant opportunities based on the category and year of application. This tab provides a dynamic table that updates based on your selections.

Category Filter: Select one or more categories from the dropdown to filter grants based on the specified fields.
Year Filter: Select the years for which you want to view available grants. You can also select "2030 onwards" to include grants with future deadlines beyond 2030.
Once you apply these filters, the table will display the relevant grant opportunities, including details such as category, award ceiling, award floor, and deadline for applications.

2. Analyze Awards
The "Analyze Awards" tab provides an overview of award ceilings and floors for different grant categories. You can use sliders to filter grants based on the award ceiling and floor ranges. The tab also includes a bar plot to visualize the difference between the mean award ceilings and floors by category.

Award Ceiling & Floor Filters: Use the sliders to adjust the range of awards you'd like to focus on.
Category Filter: Select the grant categories you're interested in analyzing.
The results will be shown in a bar plot and a summary table. The plot displays the difference between the mean award ceiling and floor for each selected category, helping you easily compare different categories.

3. Top funded grants
The "Top funded grants" tab display the most interested areas the government is emphasising, which could assist users to
identify key grants and prioritise their applications or align their objectives with those national core objectives.
The number could be inserted to show the specified number of top funded grants.



